[–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª](https://github.com/Yambai/OOP_L2/blob/main/README.md)
# **–®–∞–≥ 6**

---

# üìå **1. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º?**

**–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ **–µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**.  

–í C++ —ç—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é:  
1. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤** (`virtual`)  
2. **–ü–æ–∑–¥–Ω–µ–≥–æ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è** (–∏–ª–∏ **dynamic dispatch**)  

üìå **–ü—Ä–∏–º–µ—Ä –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏**  
–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å **–§–∏–≥—É—Ä–∞ (Shape)**. –£ –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `draw()`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω **—Ä–∏—Å–æ–≤–∞—Ç—å —Ñ–∏–≥—É—Ä—É**.  

–ù–æ –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–∏—Å–æ–≤–∞—Ç—å —Ñ–∏–≥—É—Ä—É ‚Äî **–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ñ–∏–≥—É—Ä—ã** (–∫—Ä—É–≥, –∫–≤–∞–¥—Ä–∞—Ç –∏ —Ç. –¥.).  

–ü–æ—ç—Ç–æ–º—É –º—ã –≤ `Shape` —Å–æ–∑–¥–∞—ë–º **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥** `draw()`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è** –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö (`Circle`, `Square`).  

---

# üìå **2. –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `virtual`**  

–ï—Å–ª–∏ –º–µ—Ç–æ–¥ –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ `virtual`, —Ç–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ **—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å**, –±—É–¥–µ—Ç **–≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**.  

### **–ë–µ–∑ `virtual`**
–ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `virtual`, –≤—ã–∑–æ–≤–µ—Ç—Å—è –º–µ—Ç–æ–¥ **–±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞**, –∞ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –≤ `Circle` –∏–ª–∏ `Square`.

### **–° `virtual`**
–ï—Å–ª–∏ –º–µ—Ç–æ–¥ **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π**, —Ç–æ C++ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø–æ–∑–¥–Ω–µ–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ**, –∏ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ **–ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞**.

---

# üìå **3. –°–æ–∑–¥–∞—ë–º –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `Shape` —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–æ–º `draw()`**
```cpp
#include <iostream>
using namespace std;

// ===== –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å =====
class Shape {
public:
    // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
    virtual void draw() const {
        cout << "–†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É (–∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Shape)\n";
    }

    // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä (–≤–∞–∂–Ω–æ!)
    virtual ~Shape() {
        cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Shape\n";
    }
};
```
üìå **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:**  
- `virtual void draw() const` ‚Üí **–¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º**, —á—Ç–æ–±—ã –æ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª—Å—è –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö.  
- `virtual ~Shape()` ‚Üí **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä** –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `Shape` –≤—ã–∑—ã–≤–∞–ª–∏—Å—å –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.  

---

# üìå **4. –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∫–ª–∞—Å—Å—ã `Circle` –∏ `Square`**
```cpp
// ===== –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å Circle =====
class Circle : public Shape {
public:
    // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º draw()
    void draw() const override {
        cout << "–†–∏—Å—É–µ–º –∫—Ä—É–≥\n";
    }

    ~Circle() {
        cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Circle\n";
    }
};

// ===== –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å Square =====
class Square : public Shape {
public:
    // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º draw()
    void draw() const override {
        cout << "–†–∏—Å—É–µ–º –∫–≤–∞–¥—Ä–∞—Ç\n";
    }

    ~Square() {
        cout << "–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Square\n";
    }
};
```
üìå **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:**  
- `void draw() const override` ‚Üí –º—ã **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º** –º–µ—Ç–æ–¥ `draw()` –≤ `Circle` –∏ `Square`.  
- `override` ‚Üí –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –º–µ—Ç–æ–¥ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É).  

---

# üìå **5. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ `main()`**
–¢–µ–ø–µ—Ä—å **–ø—Ä–æ–≤–µ—Ä–∏–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º** –≤ `main()`.  

```cpp
int main() {
    // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç Circle
    Shape* shape1 = new Circle();
    
    // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –æ–±—ä–µ–∫—Ç Square
    Shape* shape2 = new Square();

    cout << "–í—ã–∑—ã–≤–∞–µ–º draw() —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ Shape:\n";
    shape1->draw();  // –î–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å Circle::draw()
    shape2->draw();  // –î–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å Square::draw()

    // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å
    delete shape1;  
    delete shape2;

    return 0;
}
```

---

# üìå **6. –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏**  
```
–í—ã–∑—ã–≤–∞–µ–º draw() —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ Shape:
–†–∏—Å—É–µ–º –∫—Ä—É–≥
–†–∏—Å—É–µ–º –∫–≤–∞–¥—Ä–∞—Ç
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Circle
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Shape
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Square
–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä Shape
```

üìå **–†–∞–∑–±–∏—Ä–∞–µ–º –ø–æ —à–∞–≥–∞–º:**  
1. `Shape* shape1 = new Circle();`  
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Shape`**  
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Circle`**  

2. `Shape* shape2 = new Square();`  
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Shape`**  
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è **–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `Square`**  

3. `shape1->draw();`  
   - `draw()` –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `Circle::draw()`.  

4. `shape2->draw();`  
   - `draw()` –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `Square::draw()`.  

5. `delete shape1;`  
   - **–°–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä `Circle`**, –∑–∞—Ç–µ–º **–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä `Shape`**.  

6. `delete shape2;`  
   - **–°–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä `Square`**, –∑–∞—Ç–µ–º **–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä `Shape`**.  

---

# üìå **7. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ —É–±—Ä–∞—Ç—å `virtual` —É `draw()`?**
```cpp
class Shape {
public:
    void draw() const {  // –£–±—Ä–∞–ª–∏ virtual!
        cout << "–†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É (–∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Shape)\n";
    }
};
```
–¢–æ–≥–¥–∞ `shape1->draw();` –∏ `shape2->draw();` –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å **–±–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥** `Shape::draw()`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç—ã —Ç–∏–ø–∞ `Circle` –∏–ª–∏ `Square`.  

```
–†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É (–∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Shape)
–†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É (–∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Shape)
```
üì¢ **–í—ã–≤–æ–¥:** –ë–µ–∑ `virtual` –º—ã —Ç–µ—Ä—è–µ–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º!

---

# üìå **8. –ò—Ç–æ–≥: —á—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏?**
‚úÖ `virtual` –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ—Ç–æ–¥–∞–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö.  
‚úÖ –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`Shape*`).  
‚úÖ –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.  
‚úÖ –ï—Å–ª–∏ —É–±—Ä–∞—Ç—å `virtual`, –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –∏–¥—É—Ç –ø–æ **—Ç–∏–ø—É —É–∫–∞–∑–∞—Ç–µ–ª—è**, –∞ –Ω–µ –ø–æ **—Ç–∏–ø—É –æ–±—ä–µ–∫—Ç–∞**.  
