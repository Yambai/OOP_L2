[–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª](https://github.com/Yambai/OOP_L2/blob/main/README.md)
# **–®–∞–≥ 8**

---  

# üî• –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –≤ C++

–í —è–∑—ã–∫–µ C++ –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∞—Å—Å–∞–º–∏ –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:
1. **–°–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ —Å—Ç–µ–∫–µ** (–±–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π):  
   ```cpp
   MyBase obj = MyDeriv();
   ```
   - –°–æ–∑–¥–∞—ë—Ç—Å—è **–æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ `MyBase`**.
   - **–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "—É—Ä–µ–∑–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞" (object slicing)** ‚Äì —Ç–µ—Ä—è—é—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ `MyDeriv`.
   - –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω `MyBase`.

2. **–°–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ (heap) –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å:**  
   ```cpp
   MyBase* obj = new MyDeriv();
   ```
   - –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ **–∫—É—á–µ (`heap`)**.
   - `obj` –æ—Å—Ç–∞—ë—Ç—Å—è **—É–∫–∞–∑–∞—Ç–µ–ª–µ–º –Ω–∞ `MyBase`**, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç `MyDeriv`.
   - –ï—Å–ª–∏ –º–µ—Ç–æ–¥—ã **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ (`virtual`)**, –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**.
   - –û–±—ä–µ–∫—Ç **–Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é** (`delete obj;`).

---

## üõ† –û—Å–Ω–æ–≤—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ C++ (–û–±—ä—è—Å–Ω–µ–Ω–∏–µ `*`, `&`, `->`, `new`)

### üìå 1. –ß—Ç–æ —Ç–∞–∫–æ–µ `*` (–∑–≤—ë–∑–¥–æ—á–∫–∞) –≤ C++?  

–í C++ —Å–∏–º–≤–æ–ª `*` –∏–º–µ–µ—Ç **–¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è**:

1. **–û–±—ä—è–≤–ª–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è**  
   ```cpp
   int* ptr;
   ```
   - `ptr` ‚Äì **—É–∫–∞–∑–∞—Ç–µ–ª—å** –Ω–∞ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ (`int`).
   - –í –ø–∞–º—è—Ç–∏ –æ–Ω –±—É–¥–µ—Ç **—Ö—Ä–∞–Ω–∏—Ç—å –∞–¥—Ä–µ—Å** –¥—Ä—É–≥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

2. **–†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è (–¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç)**  
   ```cpp
   int x = 5;
   int* ptr = &x; // ptr —Ö—Ä–∞–Ω–∏—Ç –∞–¥—Ä–µ—Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π x
   std::cout << *ptr; // –†–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞–µ–º ptr -> –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ x (5)
   ```
   - `ptr` **—Å–æ–¥–µ—Ä–∂–∏—Ç –∞–¥—Ä–µ—Å** `x`, –∞ `*ptr` **–¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é**.

---

## üîπ –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã

### ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤ —Å—Ç–µ–∫–µ**
```cpp
MyBase obj;
```
- `obj` ‚Äì **–æ–±—ã—á–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** —Ç–∏–ø–∞ `MyBase`, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤ **—Å—Ç–µ–∫–µ** (stack).
- –û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

```cpp
MyBase obj = MyDeriv();
```
- `obj` ‚Äì –æ–±—ä–µ–∫—Ç **—Ç–∏–ø–∞ `MyBase`**, –∞ `MyDeriv()` ‚Äì –≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.
- **–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç object slicing (—É—Ä–µ–∑–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞)** ‚Äì `obj` –ø–æ–ª—É—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ** –±–∞–∑–æ–≤—É—é —á–∞—Å—Ç—å.

---

### ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤ –∫—É—á–µ (heap)**
```cpp
MyBase* obj = new MyDeriv();
```
- `MyBase*` ‚Äì **—É–∫–∞–∑–∞—Ç–µ–ª—å** –Ω–∞ –æ–±—ä–µ–∫—Ç `MyBase`.
- `new MyDeriv();` —Å–æ–∑–¥–∞—ë—Ç **–æ–±—ä–µ–∫—Ç –≤ –∫—É—á–µ**.
- –£–∫–∞–∑–∞—Ç–µ–ª—å `obj` –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–∏–ø–∞ `MyBase*`, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç–æ–º `MyDeriv`.

> ‚ùó **–í–∞–∂–Ω–æ:** –í—Å—ë, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `new`, **–Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é**:
```cpp
delete obj;
```

---

# üî• –†–∞–∑–±–∏—Ä–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã –ü–û–®–ê–ì–û–í–û  

## ‚úÖ **–ü—Ä–∏–º–µ—Ä 1: Object Slicing (—É—Ä–µ–∑–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞)**

```cpp
#include <iostream> // –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞

class MyBase {
public:
    int baseValue;

    MyBase() : baseValue(10) {} // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

    void show() { // –ú–µ—Ç–æ–¥ (–ù–ï –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π!)
        std::cout << "MyBase: baseValue = " << baseValue << std::endl;
    }
};

class MyDeriv : public MyBase {
public:
    int derivedValue;

    MyDeriv() : derivedValue(20) {} // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

    void show() { // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ (–Ω–æ –Ω–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ)
        std::cout << "MyDeriv: baseValue = " << baseValue 
                  << ", derivedValue = " << derivedValue << std::endl;
    }
};

int main() {
    MyDeriv derivedObj;    // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
    MyBase baseObj = derivedObj; // –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –µ–≥–æ –±–∞–∑–æ–≤–æ–º—É –æ–±—ä–µ–∫—Ç—É

    baseObj.show(); // –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ (–±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è show() –∏–∑ MyBase!)

    return 0;
}
```

### üîé **–†–∞–∑–±–æ—Ä –∫–æ–¥–∞**
1. **–û–±—ä—è–≤–ª—è–µ–º –∫–ª–∞—Å—Å `MyBase`**  
   - –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `baseValue` (10) –∏ –º–µ—Ç–æ–¥ `show()`.
   
2. **–û–±—ä—è–≤–ª—è–µ–º –∫–ª–∞—Å—Å `MyDeriv`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç `MyBase`**  
   - –î–æ–±–∞–≤–ª—è–µ—Ç `derivedValue` (20).
   - –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ `show()`.

3. **–í `main()`**:
   - `MyBase baseObj = derivedObj;`  
     üî• **–ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç object slicing** ‚Äì `baseObj` –ø–æ–ª—É—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ** —á–∞—Å—Ç—å `MyBase`, `derivedValue` —Ç–µ—Ä—è–µ—Ç—Å—è!

4. **–í—ã–∑—ã–≤–∞–µ–º `baseObj.show();`**  
   - –¢–∞–∫ –∫–∞–∫ `baseObj` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç **—Ç–∏–ø–∞ `MyBase`**, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `show()` –∏–∑ `MyBase`.

**–í—ã–≤–æ–¥:**
```
MyBase: baseValue = 10
```
üëâ **–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è —á–∞—Å—Ç—å (`derivedValue`) –±—ã–ª–∞ –æ—Ç—Ä–µ–∑–∞–Ω–∞!**

---

## ‚úÖ **–ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è (–±–µ–∑ object slicing)**

```cpp
#include <iostream>

class MyBase {
public:
    int baseValue;

    MyBase() : baseValue(10) {}

    virtual void show() { // –î–µ–ª–∞–µ–º –º–µ—Ç–æ–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º!
        std::cout << "MyBase: baseValue = " << baseValue << std::endl;
    }
};

class MyDeriv : public MyBase {
public:
    int derivedValue;

    MyDeriv() : derivedValue(20) {}

    void show() override { // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ —Å virtual
        std::cout << "MyDeriv: baseValue = " << baseValue 
                  << ", derivedValue = " << derivedValue << std::endl;
    }
};

int main() {
    MyBase* ptr = new MyDeriv(); // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å, –æ–±—ä–µ–∫—Ç - –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π
    ptr->show(); // –í—ã–∑–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ –∏–∑ MyDeriv!)

    delete ptr; // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å!
    return 0;
}
```

### üîé **–†–∞–∑–±–æ—Ä –∫–æ–¥–∞**
1. **–î–æ–±–∞–≤–ª—è–µ–º `virtual` –ø–µ—Ä–µ–¥ `show()` –≤ `MyBase`**  
   - –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**: –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –≤ `MyDeriv`.

2. **–°–æ–∑–¥–∞—ë–º `MyBase* ptr = new MyDeriv();`**  
   - `ptr` ‚Äî —ç—Ç–æ **—É–∫–∞–∑–∞—Ç–µ–ª—å** —Ç–∏–ø–∞ `MyBase`, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç `MyDeriv`.
   - `new MyDeriv();` —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç **–≤ –∫—É—á–µ**.

3. **–í—ã–∑—ã–≤–∞–µ–º `ptr->show();`**  
   - –¢–∞–∫ –∫–∞–∫ `show()` **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π**, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥** –∏–∑ `MyDeriv`!

4. **–û—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–∞–º—è—Ç—å:**
   ```cpp
   delete ptr;
   ```

**–í—ã–≤–æ–¥:**
```
MyDeriv: baseValue = 10, derivedValue = 20
```
üëâ **–¢–µ–ø–µ—Ä—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º —Å—Ä–∞–±–æ—Ç–∞–ª, object slicing –Ω–µ—Ç.**

---

## üìå –ò—Ç–æ–≥:
| –°–ø–æ—Å–æ–± | Object Slicing? | –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º? |
|--------|---------------|-------------|
| `MyBase obj = MyDeriv();` | ‚úÖ (—Ç–µ—Ä—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ) | ‚ùå |
| `MyBase* obj = new MyDeriv();` | ‚ùå (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ) | ‚úÖ (–µ—Å–ª–∏ `virtual`) |

üî• **–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:**  
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**, –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—É–∫–∞–∑–∞—Ç–µ–ª–∏** –∏ `virtual`-–º–µ—Ç–æ–¥—ã!

